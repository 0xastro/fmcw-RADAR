<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>I2C Slave Driver External Functions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2C Slave Driver External Functions<div class="ingroups"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r.html">I2C Slave Driver</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The section has a list of all the exported API which the applications need to invoke in order to use the I2C Slave driver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga323cbb394c10ab1018820c9a76eccc18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga323cbb394c10ab1018820c9a76eccc18">I2CSlave_close</a> (<a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a> handle)</td></tr>
<tr class="memdesc:ga323cbb394c10ab1018820c9a76eccc18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to close a I2CSlave peripheral specified by the I2CSlave handle.  <a href="#ga323cbb394c10ab1018820c9a76eccc18">More...</a><br /></td></tr>
<tr class="separator:ga323cbb394c10ab1018820c9a76eccc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdf40b397b1a53c1ded8cef23824a740"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#gabdf40b397b1a53c1ded8cef23824a740">I2CSlave_control</a> (<a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a> handle, uint32_t cmd, void *arg)</td></tr>
<tr class="memdesc:gabdf40b397b1a53c1ded8cef23824a740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performs implementation specific features on a given I2CSlave_Handle.  <a href="#gabdf40b397b1a53c1ded8cef23824a740">More...</a><br /></td></tr>
<tr class="separator:gabdf40b397b1a53c1ded8cef23824a740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7518283a3f3fb80cefe6cb7ca7a4a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#gad7518283a3f3fb80cefe6cb7ca7a4a36">I2CSlave_init</a> (void)</td></tr>
<tr class="memdesc:gad7518283a3f3fb80cefe6cb7ca7a4a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initializes the I2CSlave module.  <a href="#gad7518283a3f3fb80cefe6cb7ca7a4a36">More...</a><br /></td></tr>
<tr class="separator:gad7518283a3f3fb80cefe6cb7ca7a4a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5acd103ff56a3927faa1f295518fde42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42">I2CSlave_open</a> (uint32_t index, <a class="el" href="_i2_c_slave_8h.html#a1f33d83d891a8e6488af4b599bebbbc9">I2CSlave_Params</a> *params)</td></tr>
<tr class="memdesc:ga5acd103ff56a3927faa1f295518fde42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize a given I2CSlave peripheral specified by the particular index value. The parameter specifies which mode the I2CSlave will operate.  <a href="#ga5acd103ff56a3927faa1f295518fde42">More...</a><br /></td></tr>
<tr class="separator:ga5acd103ff56a3927faa1f295518fde42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c29bf7436be17348ea73fabb6ede3ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga3c29bf7436be17348ea73fabb6ede3ae">I2CSlave_Params_init</a> (<a class="el" href="_i2_c_slave_8h.html#a1f33d83d891a8e6488af4b599bebbbc9">I2CSlave_Params</a> *params)</td></tr>
<tr class="memdesc:ga3c29bf7436be17348ea73fabb6ede3ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the I2CSlave_Params struct to its defaults.  <a href="#ga3c29bf7436be17348ea73fabb6ede3ae">More...</a><br /></td></tr>
<tr class="separator:ga3c29bf7436be17348ea73fabb6ede3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5409f453e769676593a1a14d0ba6d7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#gad5409f453e769676593a1a14d0ba6d7b">I2CSlave_read</a> (<a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a> handle, void *buffer, size_t size)</td></tr>
<tr class="memdesc:gad5409f453e769676593a1a14d0ba6d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles the I2CSlave read for SYS/BIOS.  <a href="#gad5409f453e769676593a1a14d0ba6d7b">More...</a><br /></td></tr>
<tr class="separator:gad5409f453e769676593a1a14d0ba6d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66c5d4103e022318c746c592ab2295f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga66c5d4103e022318c746c592ab2295f8">I2CSlave_write</a> (<a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a> handle, const void *buffer, size_t size)</td></tr>
<tr class="memdesc:ga66c5d4103e022318c746c592ab2295f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles the I2CSlave write for SYS/BIOS.  <a href="#ga66c5d4103e022318c746c592ab2295f8">More...</a><br /></td></tr>
<tr class="separator:ga66c5d4103e022318c746c592ab2295f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The section has a list of all the exported API which the applications need to invoke in order to use the I2C Slave driver. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga323cbb394c10ab1018820c9a76eccc18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to close a I2CSlave peripheral specified by the I2CSlave handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open()</a> had to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A I2CSlave_Handle returned from I2CSlave_open</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gabdf40b397b1a53c1ded8cef23824a740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t I2CSlave_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function performs implementation specific features on a given I2CSlave_Handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open()</a> has to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A I2CSlave handle returned from <a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open()</a></td></tr>
    <tr><td class="paramname">cmd</td><td>A command value defined by the driver specific implementation</td></tr>
    <tr><td class="paramname">arg</td><td>An optional R/W (read/write) argument that is accompanied with cmd</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Implementation specific return codes. Negative values indicate unsuccessful operations.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gad7518283a3f3fb80cefe6cb7ca7a4a36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initializes the I2CSlave module. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The I2CSlave_config structure must exist and be persistent before this function can be called. This function must also be called before any other I2CSlave driver APIs. This function call does not modify any peripheral registers. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5acd103ff56a3927faa1f295518fde42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a> I2CSlave_open </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a1f33d83d891a8e6488af4b599bebbbc9">I2CSlave_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize a given I2CSlave peripheral specified by the particular index value. The parameter specifies which mode the I2CSlave will operate. </p>
<dl class="section pre"><dt>Precondition</dt><dd>I2CSlave controller has been initialized</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Logical peripheral number for the I2CSlave indexed into the I2CSlave_config table</td></tr>
    <tr><td class="paramname">params</td><td>Pointer to an parameter block, if NULL it will use default values. All the fields in this structure are RO (read-only).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A I2CSlave_Handle on success or a NULL on an error or if it has been opened already.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#gad7518283a3f3fb80cefe6cb7ca7a4a36" title="Function to initializes the I2CSlave module. ">I2CSlave_init()</a> </dd>
<dd>
<a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga323cbb394c10ab1018820c9a76eccc18" title="Function to close a I2CSlave peripheral specified by the I2CSlave handle. ">I2CSlave_close()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c29bf7436be17348ea73fabb6ede3ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CSlave_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a1f33d83d891a8e6488af4b599bebbbc9">I2CSlave_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the I2CSlave_Params struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>An pointer to I2CSlave_Params structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are: transferMode = I2CSLAVE_MODE_BLOCKING transferCallbackFxn = NULL </p>

</div>
</div>
<a class="anchor" id="gad5409f453e769676593a1a14d0ba6d7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2CSlave_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles the I2CSlave read for SYS/BIOS. </p>
<p>This function will start a I2CSlave read and can only be called from a Task context when in I2CSLAVE_MODE_BLOCKING. The I2CSlave read procedure starts with evaluating how many bytes are to be readby the I2CSlave peripheral.</p>
<p>The data written by the I2CSlave is synchronized with the START and STOP from the master.</p>
<p>In I2CSLAVE_MODE_BLOCKING, I2CSlave read/write will block task execution until the transaction has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A I2CSlave_Handle</td></tr>
    <tr><td class="paramname">buffer</td><td>A RO (read-only) pointer to an empty buffer in which received data should be written to.</td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to be written into buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on successful transfer false on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga66c5d4103e022318c746c592ab2295f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool I2CSlave_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_c_slave_8h.html#a076045922f1e7c181c4b59e6a4e37b14">I2CSlave_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles the I2CSlave write for SYS/BIOS. </p>
<p>This function will start a I2CSlave write and can only be called from a Task context when in I2CSLAVE_MODE_BLOCKING. The I2CSlave transfer procedure starts with evaluating how many bytes are to be written.</p>
<p>The data written by the I2CSlave is synchronized with the START and STOP from the master. If slave does not have as many bytes requested by master it writes 0xFF. I2CSlave keeps sending 0xFF till master sends a STOP.</p>
<p>In I2CSLAVE_MODE_BLOCKING, I2CSlave read/write will block task execution until the transaction has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A I2CSlave_Handle</td></tr>
    <tr><td class="paramname">buffer</td><td>A WO (write-only) pointer to buffer containing data to be written to the master.</td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes in buffer that should be written onto the master.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on successful write false on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c_s_l_a_v_e___d_r_i_v_e_r___e_x_t_e_r_n_a_l___f_u_n_c_t_i_o_n.html#ga5acd103ff56a3927faa1f295518fde42" title="Function to initialize a given I2CSlave peripheral specified by the particular index value...">I2CSlave_open</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
