<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>alg/mmwavelib/src/fft/mmwavelib_ffttwiddle_gen.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c9839ac9bd42e86e6159886378237831.html">alg</a></li><li class="navelem"><a class="el" href="dir_5f5b3a6c6f9ee84cdf9c273ccf43003e.html">mmwavelib</a></li><li class="navelem"><a class="el" href="dir_9fa96890f77570b05e4519e45129846b.html">src</a></li><li class="navelem"><a class="el" href="dir_23ffccf3c608a84aff4e8a4d3de2ea11.html">fft</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mmwavelib_ffttwiddle_gen.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains functions related to generate FFT twiddle factors. The functions are optimized for speed to allow quick reconfiguration when switching sub-frames in advanced frame mode. For FFT size less than or equal to 1024, the implementation is to store look-up table which is very high in memory consumption. For FFT size 2048, 4096, and 8192, the implementation is to use trigonometry formulas for interpolation from the look-up table.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="mmwavelib__fft_8h.html">ti/alg/mmwavelib/src/fft/mmwavelib_fft.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga453fca8e41716837fcf9f0a0d454ad22"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga453fca8e41716837fcf9f0a0d454ad22">mmwavelib_gen_twiddle_fft16x16</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga453fca8e41716837fcf9f0a0d454ad22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_fft16x16.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga453fca8e41716837fcf9f0a0d454ad22">More...</a><br /></td></tr>
<tr class="separator:ga453fca8e41716837fcf9f0a0d454ad22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49dbcbb1eb0456d44de4bb6fe8f0594b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga49dbcbb1eb0456d44de4bb6fe8f0594b">mmwavelib_gen_twiddle_fft16x16_imre_sa</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga49dbcbb1eb0456d44de4bb6fe8f0594b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_fft16x16_imre_sa.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga49dbcbb1eb0456d44de4bb6fe8f0594b">More...</a><br /></td></tr>
<tr class="separator:ga49dbcbb1eb0456d44de4bb6fe8f0594b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa126b24e90cd56f52508047643bac2fc"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gaa126b24e90cd56f52508047643bac2fc">mmwavelib_gen_twiddle_smallfft_16x16</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:gaa126b24e90cd56f52508047643bac2fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_smallfft_16x16.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gaa126b24e90cd56f52508047643bac2fc">More...</a><br /></td></tr>
<tr class="separator:gaa126b24e90cd56f52508047643bac2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab33fdc29ef57e309d6e75e4cb2dccf4d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gab33fdc29ef57e309d6e75e4cb2dccf4d">mmwavelib_gen_twiddle_smallfft_16x16_imre_sa</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:gab33fdc29ef57e309d6e75e4cb2dccf4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_smallfft_16x16_imre_sa.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gab33fdc29ef57e309d6e75e4cb2dccf4d">More...</a><br /></td></tr>
<tr class="separator:gab33fdc29ef57e309d6e75e4cb2dccf4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b62b1ba79e28c8119c56526c023b067"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga1b62b1ba79e28c8119c56526c023b067">mmwavelib_gen_twiddle_largefft_16x16</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga1b62b1ba79e28c8119c56526c023b067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_largefft_16x16.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga1b62b1ba79e28c8119c56526c023b067">More...</a><br /></td></tr>
<tr class="separator:ga1b62b1ba79e28c8119c56526c023b067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff018510f058d0c6e9e10776e4e660b6"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gaff018510f058d0c6e9e10776e4e660b6">mmwavelib_gen_twiddle_largefft_16x16_imre_sa</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:gaff018510f058d0c6e9e10776e4e660b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_largefft_16x16_imre_sa.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#gaff018510f058d0c6e9e10776e4e660b6">More...</a><br /></td></tr>
<tr class="separator:gaff018510f058d0c6e9e10776e4e660b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44eb5f439689d90d3f669d198ec4529f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga44eb5f439689d90d3f669d198ec4529f">mmwavelib_gen_twiddle_largefftUp8k_16x16</a> (int16_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga44eb5f439689d90d3f669d198ec4529f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_largefftUp8k_16x16.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga44eb5f439689d90d3f669d198ec4529f">More...</a><br /></td></tr>
<tr class="separator:ga44eb5f439689d90d3f669d198ec4529f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e66c7b243f46f35243eab84212f3939"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga1e66c7b243f46f35243eab84212f3939">mmwavelib_gen_twiddle_fft32x32</a> (int32_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga1e66c7b243f46f35243eab84212f3939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_fft32x32.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga1e66c7b243f46f35243eab84212f3939">More...</a><br /></td></tr>
<tr class="separator:ga1e66c7b243f46f35243eab84212f3939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fb6b6a95576d7c3f458ce4a47ce04f9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga8fb6b6a95576d7c3f458ce4a47ce04f9">mmwavelib_gen_twiddle_smallfft_32x32</a> (int32_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga8fb6b6a95576d7c3f458ce4a47ce04f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_smallfft_32x32.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga8fb6b6a95576d7c3f458ce4a47ce04f9">More...</a><br /></td></tr>
<tr class="separator:ga8fb6b6a95576d7c3f458ce4a47ce04f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c3ba7d003aa3775901474bb8bcc526d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga0c3ba7d003aa3775901474bb8bcc526d">mmwavelib_gen_twiddle_largefft_32x32</a> (int32_t *w, int32_t n)</td></tr>
<tr class="memdesc:ga0c3ba7d003aa3775901474bb8bcc526d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function Name : mmwavelib_gen_twiddle_largefft_32x32.  <a href="group___m_m_w_a_v_e_l_i_b___f_f_t.html#ga0c3ba7d003aa3775901474bb8bcc526d">More...</a><br /></td></tr>
<tr class="separator:ga0c3ba7d003aa3775901474bb8bcc526d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2530b0dd5be6c0a0fd8272db1698f841"><td class="memItemLeft" align="right" valign="top">const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmwavelib__ffttwiddle__gen_8c.html#a2530b0dd5be6c0a0fd8272db1698f841">mmwavelib_twiddleTableCommon</a> [2 *256]</td></tr>
<tr class="memdesc:a2530b0dd5be6c0a0fd8272db1698f841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup table for FFT twiddle factors generation(FFT size less than or equal to 1024) and DFT single bin DFT calculation. It contains 256 complex exponentials e(k) = cos(2*pi*k/1024)+j*sin(2*pi*k/1024), k=0,...,255, Imaginary values are in even, and real values are in odd locations. Values are in Q31 format, saturated to +/- 2147483647.  <a href="#a2530b0dd5be6c0a0fd8272db1698f841">More...</a><br /></td></tr>
<tr class="separator:a2530b0dd5be6c0a0fd8272db1698f841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529b31bdc28cc7f464d19fb25652b0f0"><td class="memItemLeft" align="right" valign="top">const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmwavelib__ffttwiddle__gen_8c.html#a529b31bdc28cc7f464d19fb25652b0f0">mmwavelib_twiddleTableLargeFFTSize</a> [2 *14]</td></tr>
<tr class="memdesc:a529b31bdc28cc7f464d19fb25652b0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup table for big size(2048, 4096, 8192) FFT twiddle factor generation. It contains the interpolation values for FFT size 2048, 4096, and 8192. For FFT size 2048, two complex interpolation values, exp(j* 2*pi*[0:1]/2048), For FFT size 4096, four complex interpolation values exp(j* 2*pi*[0:3]/4096), For FFT size 8192, eight complex interpolation values exp(j*2*pi*[0:7]/8192). Imaginary values are in even, and real values are in odd locations. Values are in Q31 format, saturated to +/- 2147483647.  <a href="#a529b31bdc28cc7f464d19fb25652b0f0">More...</a><br /></td></tr>
<tr class="separator:a529b31bdc28cc7f464d19fb25652b0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains functions related to generate FFT twiddle factors. The functions are optimized for speed to allow quick reconfiguration when switching sub-frames in advanced frame mode. For FFT size less than or equal to 1024, the implementation is to store look-up table which is very high in memory consumption. For FFT size 2048, 4096, and 8192, the implementation is to use trigonometry formulas for interpolation from the look-up table. </p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2530b0dd5be6c0a0fd8272db1698f841"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t mmwavelib_twiddleTableCommon[2 *256]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup table for FFT twiddle factors generation(FFT size less than or equal to 1024) and DFT single bin DFT calculation. It contains 256 complex exponentials e(k) = cos(2*pi*k/1024)+j*sin(2*pi*k/1024), k=0,...,255, Imaginary values are in even, and real values are in odd locations. Values are in Q31 format, saturated to +/- 2147483647. </p>
<p>Following Matlab code was used to generate this table:</p>
<p>Generates lookup table for fast twiddle table generation for DSP lib FFT functions 16x16 and 32x32 for FFT sizes up to 1024. It saturates the amplitude to +/- 2147483647. The values are saved to file as imaginary %(sine) to even, and real (cosine) to odd index positions. M = 2147483647.5; nMax = 1024; table=round(M*exp(1j*2*pi/1024*[0:1*nMax/4-1]')); table=max(min(real(table),2147483647),-2147483647) + 1j* max(min(imag(table),2147483647),-2147483647); fid = fopen('twiddle_table_all.dat','w');</p>
<p>tableRI = [imag(table) real(table)]'; tableRI = tableRI(:); tableRI(tableRI&lt;0) = tableRI(tableRI&lt;0) + 4294967296;</p>
<p>fprintf(fid, [repmat(' 0x%08x,', 1, 8) '<br />
'], tableRI); </p>

</div>
</div>
<a class="anchor" id="a529b31bdc28cc7f464d19fb25652b0f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t mmwavelib_twiddleTableLargeFFTSize[2 *14]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    </div><div class="line">    0x00000000, 0x7FFFFFFF,</div><div class="line">    0x006487E3, 0x7FFFD885,   </div><div class="line">    </div><div class="line">    0x00000000, 0x7FFFFFFF,</div><div class="line">    0x003243F5, 0x7FFFF621, 0x006487E3, 0x7FFFD885, 0x0096CBC1, 0x7FFFA72C,  </div><div class="line">    </div><div class="line">    0x00000000, 0x7FFFFFFF,</div><div class="line">    0x001921FB, 0x7FFFFD88, 0x003243F5, 0x7FFFF621, 0x004B65EE, 0x7FFFE9CB,  </div><div class="line">    0x006487E3, 0x7FFFD885, 0x007DA9D4, 0x7FFFC250, 0x0096CBC1, 0x7FFFA72C, 0x00AFEDA8, 0x7FFF8718</div><div class="line">}</div></div><!-- fragment -->
<p>Lookup table for big size(2048, 4096, 8192) FFT twiddle factor generation. It contains the interpolation values for FFT size 2048, 4096, and 8192. For FFT size 2048, two complex interpolation values, exp(j* 2*pi*[0:1]/2048), For FFT size 4096, four complex interpolation values exp(j* 2*pi*[0:3]/4096), For FFT size 8192, eight complex interpolation values exp(j*2*pi*[0:7]/8192). Imaginary values are in even, and real values are in odd locations. Values are in Q31 format, saturated to +/- 2147483647. </p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
